---
import Layout from '../layouts/Layout.astro';

// This grabs all .md files directly from the pages folder
const posts = await Astro.glob('./news/*.md');
---

<Layout title="News Archive">
  <main class="max-w-7xl mx-auto px-4 py-12 text-white">
    <h1 class="text-5xl font-black italic uppercase mb-12 text-center">News Archive</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {posts.map((post) => (
        <div class="bg-zinc-900 p-8 rounded-3xl border border-zinc-800">
          <p class="text-zinc-500 text-[10px] font-bold uppercase mb-2">{post.frontmatter.pubDate}</p>
          <h2 class="text-2xl font-bold mb-4">{post.frontmatter.title}</h2>
          <p class="text-zinc-400 text-sm mb-6">{post.frontmatter.summary}</p>
          
          <a href={post.url} class="text-red-600 font-black uppercase text-xs hover:text-white transition-colors">
            Read More â†’
          </a>
        </div>
      ))}
    </div>
  </main>
</Layout>